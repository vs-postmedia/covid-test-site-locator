(this["webpackJsonpcovid-test-site-locator"]=this["webpackJsonpcovid-test-site-locator"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Shift-BoldItalic.5c3edbfd.otf"},,,,function(e,t,a){e.exports=a(33)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/Shift-Bold.cdd38a86.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Regular.43cd4ac7.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-RegItalic.69a4217c.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Bold.6f6753fd.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-BoldItalic.a6640d89.otf"},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),o=a.n(s),r=a(11),l=a(1),c=a(2),u=a(4),d=a(3),m=a(10),p=a(5),h=a.n(p),f=(a(21),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value,i=t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:i,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),n.props.onSelect(e.currentTarget.innerText)},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,i=t.filteredSuggestions;if(13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:i[a]}),n.props.onKeyDown(i[a]);else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===i.length)return;n.setState({activeSuggestion:a+1})}},n.state={defaultText:"Enter a city...",activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,s=this.onKeyDown,o=this.state,r=o.activeSuggestion,l=o.filteredSuggestions,c=o.showSuggestions,u=o.userInput;return c&&u&&(e=l.length?i.a.createElement("ul",{className:"suggestions"},l.map((function(e,t){var n;return t===r&&(n="suggestion-active"),i.a.createElement("li",{className:n,key:e,onClick:a},e)}))):i.a.createElement("div",{className:"no-suggestions"},i.a.createElement("em",null,"No suggestions, you're on your own!"))),i.a.createElement(n.Fragment,null,i.a.createElement("input",{className:"autocomplete",type:"text",onChange:t,onKeyDown:s,placeholder:this.state.defaultText,value:u}),e)}}]),a}(n.Component));f.defaultProps={suggestions:[]};var g=f,v=(a(22),function(e){var t=e.data.length,a=t>1?"are":"is",n=t>1?"centers that match":"center that matches";return i.a.createElement("div",{className:"summary-box"},i.a.createElement("h2",null,"There ",a," ",i.a.createElement("span",{className:"highlight"},t)," testing ",n," your criteria."))}),E=(a(23),function(e){var t=e.data;return i.a.createElement("div",{className:"card"},i.a.createElement("header",null,i.a.createElement("h3",null,t.name),i.a.createElement("p",{className:"type"},t.city)),i.a.createElement("div",{className:"contact"},i.a.createElement("p",{className:"address"},t.address),i.a.createElement("p",null,i.a.createElement("span",{className:"bold"},"Phone:")," ",t.phone)),i.a.createElement("div",{className:"info"},i.a.createElement("p",null,"Appointment required: ",i.a.createElement("span",{className:"bold"},t.appointment_required)),i.a.createElement("p",null,"Accepts children: ",i.a.createElement("span",{className:"bold"},t.accept_kids))),i.a.createElement("h4",null,"Details"),i.a.createElement("p",{className:"details"},i.a.createElement("span",{className:"bold"},"Open: "),t.availability),i.a.createElement("p",{className:"details"},t.criteria))}),y=(a(24),function(e){var t=e.data.sort((function(e,t){return parseInt(e.route)-parseInt(t.route)}));return i.a.createElement("div",{className:"card-list"},t.map((function(e,t){return i.a.createElement(E,{className:"card",data:e,key:t,id:e.route})})))}),S=(a(25),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={appointment:"no",appointment_bool:!1,weekend_bool:!1,city:"",data:[],filteredData:[],kids_toggle:"yes",locationCount:0,tmpData:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataURL,{cache:"no-store"}).then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return e.city}));a.unshift(""),e.setState({data:t,cityList:Object(r.a)(new Set(a)),filteredData:t,tmpData:t})}))}},{key:"filterData",value:function(e,t,a){var n;n=""!==e?this.state.data.filter((function(t){return t.city.toLowerCase()===e})).filter((function(e){return"yes"===t?e.appointment_required.toLowerCase()===t:e.appointment_required})).filter((function(e){return a?"Yes"===e.open_weekend:e})):this.state.data.filter((function(e){return"yes"===t?e.appointment_required.toLowerCase()===t:e.appointment_required})).filter((function(e){return e.city})).filter((function(e){return a?"Yes"===e.open_weekend:e})),this.setState({filteredData:n})}},{key:"handleInputChange",value:function(e){var t=e.toLowerCase();this.setState({city:t}),this.filterData(t,this.state.appointment,this.state.weekend_bool)}},{key:"handleAppointmentToggleChange",value:function(e){var t=e?"yes":"no";this.setState({appointment:t,appointment_bool:e}),this.filterData(this.state.city,t,this.state.weekend_bool)}},{key:"handleKidsToggleChange",value:function(e){var t=e?"yes":"no",a=this.state.filteredData,n="no"===t?this.state.filteredData.filter((function(e){return"no"===e.accept_kids.toLowerCase()})):this.state.tmpData;this.setState({kids_toggle:e,filteredData:n,tmpData:a})}},{key:"handleWeekendToggleChange",value:function(e){this.setState({weekend_bool:e}),this.filterData(this.state.city,this.state_appointment,e)}},{key:"setTimestamp",value:function(e){return m.tz(e,"America/Vancouver").calendar()}},{key:"render",value:function(){var e;return e=this.state.filteredData.length>0?i.a.createElement(y,{data:this.state.filteredData}):i.a.createElement("p",{className:"no-data"},"No results"),i.a.createElement(n.Fragment,null,i.a.createElement("div",{id:"filter-list"},i.a.createElement("label",{className:"autocomplete-container"},i.a.createElement("h4",null,"City:"),i.a.createElement(g,{suggestions:this.state.cityList,onKeyDown:this.handleInputChange.bind(this),onSelect:this.handleInputChange.bind(this)})),i.a.createElement("label",{className:"toggle-container"},i.a.createElement("h4",null,"Open",i.a.createElement("br",null),"Weekends"),i.a.createElement(h.a,{checked:this.state.weekend_bool,className:"appointment-switch",onChange:this.handleWeekendToggleChange.bind(this),onColor:"#9b3f86"})),i.a.createElement("label",{className:"toggle-container"},i.a.createElement("h4",null,"Appointment",i.a.createElement("br",null),"required"),i.a.createElement(h.a,{checked:this.state.appointment_bool,className:"appointment-switch",onChange:this.handleAppointmentToggleChange.bind(this),onColor:"#9b3f86"}))),i.a.createElement(v,{data:this.state.filteredData}),e)}}]),a}(n.Component));a(26);var b=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Find a COVID-19 test site near you"),i.a.createElement(S,{dataURL:"https://vs-postmedia-data.sfo2.digitaloceanspaces.com/covid-testing-locations.json"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27),a(28),a(8),a(29),a(30),a(31),a(32);o.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.2eb5c8c6.chunk.js.map