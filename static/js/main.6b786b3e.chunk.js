(this["webpackJsonpcovid-test-site-locator"]=this["webpackJsonpcovid-test-site-locator"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Shift-BoldItalic.5c3edbfd.otf"},,,,,function(e,t,a){e.exports=a(33)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/Shift-Bold.cdd38a86.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Regular.43cd4ac7.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-RegItalic.69a4217c.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Bold.6f6753fd.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-BoldItalic.a6640d89.otf"},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(8),s=a.n(i),r=a(11),c=a(1),l=a(2),u=a(4),d=a(3),m=a(9),p=a(10),h=a.n(p),f=(a(21),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value,o=t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:o,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),n.props.onSelect(e.currentTarget.innerText)},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,o=t.filteredSuggestions;if(13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:o[a]}),n.props.onKeyDown(o[a]);else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===o.length)return;n.setState({activeSuggestion:a+1})}},n.state={defaultText:"Enter a city...",activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,i=this.onKeyDown,s=this.state,r=s.activeSuggestion,c=s.filteredSuggestions,l=s.showSuggestions,u=s.userInput;return l&&u&&(e=c.length?o.a.createElement("ul",{className:"suggestions"},c.map((function(e,t){var n;return t===r&&(n="suggestion-active"),o.a.createElement("li",{className:n,key:e,onClick:a},e)}))):o.a.createElement("div",{className:"no-suggestions"},o.a.createElement("em",null,"No suggestions, you're on your own!"))),o.a.createElement(n.Fragment,null,o.a.createElement("input",{className:"autocomplete",type:"text",onChange:t,onKeyDown:i,placeholder:this.state.defaultText,value:u}),e)}}]),a}(n.Component));f.defaultProps={suggestions:[]};var g=f,v=(a(22),function(e){var t=e.data.length,a=t>1?"are":"is",n=t>1?"centers that match":"center that matches";return o.a.createElement("div",{className:"summary-box"},o.a.createElement("h2",null,"There ",a," ",o.a.createElement("span",{className:"highlight"},t)," testing ",n," your criteria."))}),y=(a(23),function(e){var t=e.data,a=t.ha.toLowerCase().replace(/\s/g,"-"),n="yes"===t.accept_kids.toLowerCase()?"kids":"",i="yes"===t.appointment_required.toLowerCase()?"appointment":"";return o.a.createElement("div",{className:"card ".concat(a," ").concat(t.city.toLowerCase," ").concat(n," ").concat(i)},o.a.createElement("header",null,o.a.createElement("h2",null,t.name),o.a.createElement("p",{className:"type"},t.city)),o.a.createElement("div",{className:"contact"},o.a.createElement("p",{className:"address"},t.address),o.a.createElement("p",null,o.a.createElement("span",{className:"bold"},"Phone:")," ",t.phone)),o.a.createElement("div",{className:"info"},o.a.createElement("p",null,"Apointment required: ",o.a.createElement("span",{className:"bold"},t.appointment_required)),o.a.createElement("p",null,"Accepts children: ",o.a.createElement("span",{className:"bold"},t.accept_kids))),o.a.createElement("h4",null,"Details"),o.a.createElement("p",{className:"info"},t.criteria))}),E=(a(24),function(e){var t=e.data.sort((function(e,t){return parseInt(e.route)-parseInt(t.route)}));return o.a.createElement("div",{className:"card-list"},t.map((function(e,t){return o.a.createElement(y,{className:"card",data:e,key:t,id:e.route})})))}),C=(a(25),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={appointment:"no",appointment_bool:!1,city:"",data:[],filteredData:[],kids_toggle:"yes",locationCount:0,tmpData:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataURL,{cache:"no-store"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=t.map((function(e){return e.city}));a.unshift(""),e.setState({data:t,cityList:Object(r.a)(new Set(a)),filteredData:t,tmpData:t})}))}},{key:"filterData",value:function(e,t){var a;a=""!==e?this.state.data.filter((function(t){return t.city.toLowerCase()===e})).filter((function(e){return"yes"===t?e.appointment_required.toLowerCase()===t:e.appointment_required})):this.state.data.filter((function(e){return"yes"===t?e.appointment_required.toLowerCase()===t:e.appointment_required})).filter((function(e){return e.city})),this.setState({filteredData:a})}},{key:"handleInputChange",value:function(e){var t=e.toLowerCase();this.setState({city:t}),this.filterData(t,this.state.appointment)}},{key:"handleAppointmentToggleChange",value:function(e){var t=e?"yes":"no";this.setState({appointment:t,appointment_bool:e}),this.filterData(this.state.city,t)}},{key:"handleKidsToggleChange",value:function(e){var t=e?"yes":"no",a=this.state.filteredData,n="no"===t?this.state.filteredData.filter((function(e){return"no"===e.accept_kids.toLowerCase()})):this.state.tmpData;this.setState({kids_toggle:e,filteredData:n,tmpData:a})}},{key:"setTimestamp",value:function(e){return m.tz(e,"America/Vancouver").calendar()}},{key:"render",value:function(){var e;return e=this.state.filteredData.length>0?o.a.createElement(E,{data:this.state.filteredData}):o.a.createElement("p",{className:"no-data"},"No results"),o.a.createElement(n.Fragment,null,o.a.createElement("div",{id:"filter-list"},o.a.createElement("label",{className:"autocomplete-container"},o.a.createElement("h4",null,"City:"),o.a.createElement(g,{suggestions:this.state.cityList,onKeyDown:this.handleInputChange.bind(this),onSelect:this.handleInputChange.bind(this)})),o.a.createElement("label",{className:"toggle-container"},o.a.createElement("h4",null,"Appointment required"),o.a.createElement(h.a,{checked:this.state.appointment_bool,className:"appointment-switch",onChange:this.handleAppointmentToggleChange.bind(this),onColor:"#9b3f86"}))),o.a.createElement(v,{data:this.state.filteredData}),e)}}]),a}(n.Component));a(26);var S=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Find a COVID-19 test site near you"),o.a.createElement(C,{dataURL:"https://vs-postmedia-data.sfo2.digitaloceanspaces.com/covid-testing-locations.json"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27),a(28),a(7),a(29),a(30),a(31),a(32);s.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.6b786b3e.chunk.js.map