(this["webpackJsonpcovid-test-site-locator"]=this["webpackJsonpcovid-test-site-locator"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Shift-BoldItalic.5c3edbfd.otf"},,,,function(e,t,a){e.exports=a(33)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/Shift-Bold.cdd38a86.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Regular.43cd4ac7.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-RegItalic.69a4217c.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-Bold.6f6753fd.otf"},function(e,t,a){e.exports=a.p+"static/media/BentonSansCond-BoldItalic.a6640d89.otf"},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),r=a.n(s),o=a(11),l=a(1),c=a(2),u=a(4),d=a(3),h=a(10),m=a(5),f=a.n(m),p=(a(21),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value,i=t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:i,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),n.props.onSelect(e.currentTarget.innerText)},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,i=t.filteredSuggestions;if(13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:i[a]}),n.props.onKeyDown(i[a]);else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===i.length)return;n.setState({activeSuggestion:a+1})}},n.state={defaultText:"Enter a city...",activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,s=this.onKeyDown,r=this.state,o=r.activeSuggestion,l=r.filteredSuggestions,c=r.showSuggestions,u=r.userInput;return c&&u&&(e=l.length?i.a.createElement("ul",{className:"suggestions"},l.map((function(e,t){var n;return t===o&&(n="suggestion-active"),i.a.createElement("li",{className:n,key:e,onClick:a},e)}))):i.a.createElement("div",{className:"no-suggestions"},i.a.createElement("em",null,"No suggestions, you're on your own!"))),i.a.createElement(n.Fragment,null,i.a.createElement("input",{className:"autocomplete",type:"text",onChange:t,onKeyDown:s,placeholder:this.state.defaultText,value:u}),e)}}]),a}(n.Component));p.defaultProps={suggestions:[]};var g=p,v=(a(22),function(e){var t=e.data.length,a=1===t?"is":"are",n=1===t?"center that matches":"centers that match";return i.a.createElement("div",{className:"summary-box"},i.a.createElement("h2",null,"There ",a," ",i.a.createElement("span",{className:"highlight"},t)," testing ",n," your criteria."))}),E=(a(23),function(e){var t=e.data;return i.a.createElement("div",{className:"card"},i.a.createElement("header",null,i.a.createElement("h3",null,t.name),i.a.createElement("p",{className:"type"},t.city)),i.a.createElement("div",{className:"contact"},i.a.createElement("p",{className:"address"},t.address),i.a.createElement("p",null,i.a.createElement("span",{className:"bold"},"Phone:")," ",t.phone)),i.a.createElement("div",{className:"info"},i.a.createElement("p",null,"Appointment required: ",i.a.createElement("span",{className:"bold"},t.appointment_required)),i.a.createElement("p",null,"Accepts children: ",i.a.createElement("span",{className:"bold"},t.accept_kids))),i.a.createElement("h4",null,"Details"),i.a.createElement("p",{className:"details"},i.a.createElement("span",{className:"bold"},"Open: "),t.availability),i.a.createElement("p",{className:"details"},t.criteria))}),y=(a(24),function(e){var t=e.data.sort((function(e,t){return parseInt(e.route)-parseInt(t.route)}));return i.a.createElement("div",{className:"card-list"},t.map((function(e,t){return i.a.createElement(E,{className:"card",data:e,key:t,id:e.route})})))}),S=(a(25),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={city:"",data:[],filteredData:[],filters:{appointment:!1,drive_thru:!1,open_weekend:!1}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataURL,{cache:"no-store"}).then((function(e){return e.json()})).then((function(t){var a=t.map((function(e){return e.city}));a.unshift(""),e.setState({data:t,cityList:Object(o.a)(new Set(a)),filteredData:t,tmpData:t})}))}},{key:"filterData",value:function(){var e=this.state.city,t=this.state.filters,a=this.state.data.filter((function(e){return!0===t.appointment?!0===e.filters.appointment:e})).filter((function(e){return!0===t.open_weekend?!0===e.filters.open_weekend:e})).filter((function(e){return!0===t.drive_thru?!0===e.filters.drive_thru:e})).filter((function(t){return e?t.city===e:t}));this.setState({filteredData:a})}},{key:"handleInputChange",value:function(e){console.log(e),this.setState({city:e}),this.filterData()}},{key:"handleAppointmentToggleChange",value:function(e){var t=this.state.filters;t.appointment=e,this.setState({filters:t}),this.filterData()}},{key:"handleDrivethruToggleChange",value:function(e){var t=this.state.filters;t.drive_thru=e,this.setState({filters:t}),this.filterData()}},{key:"handleWeekendToggleChange",value:function(e){var t=this.state.filters;t.open_weekend=e,this.setState({filters:t}),this.filterData()}},{key:"setTimestamp",value:function(e){return h.tz(e,"America/Vancouver").calendar()}},{key:"render",value:function(){var e,t=this.state;return e=this.state.filteredData.length>0?i.a.createElement(y,{className:"".concat(t.city," ").concat(t.filters.appointment," ").concat(t.filters.drive_thru," ").concat(t.filters.open_weekend),data:t.filteredData}):i.a.createElement("p",{className:"no-data"},"No results"),i.a.createElement(n.Fragment,null,i.a.createElement("div",{id:"filter-list"},i.a.createElement("label",{className:"autocomplete-container"},i.a.createElement("h4",null,"City:"),i.a.createElement(g,{suggestions:this.state.cityList,onKeyDown:this.handleInputChange.bind(this),onSelect:this.handleInputChange.bind(this)})),i.a.createElement("label",{className:"toggle-container"},i.a.createElement("h4",null,"Open",i.a.createElement("br",null),"weekends"),i.a.createElement(f.a,{checked:this.state.filters.open_weekend,className:"appointment-switch",onChange:this.handleWeekendToggleChange.bind(this),onColor:"#9b3f86"})),i.a.createElement("label",{className:"toggle-container"},i.a.createElement("h4",null,"Appointment",i.a.createElement("br",null),"required"),i.a.createElement(f.a,{checked:this.state.filters.appointment,className:"appointment-switch",onChange:this.handleAppointmentToggleChange.bind(this),onColor:"#9b3f86"})),i.a.createElement("label",{className:"toggle-container"},i.a.createElement("h4",null,"Drive",i.a.createElement("br",null),"through"),i.a.createElement(f.a,{checked:this.state.filters.drive_thru,className:"appointment-switch",onChange:this.handleDrivethruToggleChange.bind(this),onColor:"#9b3f86"}))),i.a.createElement(v,{data:this.state.filteredData}),e)}}]),a}(n.Component));a(26);var k=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Find a COVID-19 test site near you"),i.a.createElement(S,{dataURL:"https://vs-postmedia-data.sfo2.digitaloceanspaces.com/covid-testing-locations.json"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(27),a(28),a(8),a(29),a(30),a(31),a(32);r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.f0a03b97.chunk.js.map